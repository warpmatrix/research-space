# 激活应用构建新范式 - 云原生峰会（云原生）

## 云原生激活应用构建新范式

应用构建新范式：

- 全面容器化：运维标准化
- 核心技术互联网化
- 应用 serverlesss 化：技术组件分层解耦

阿里产品：

- 容器服务 ACK：ACK @ edge etc.
  - 智能化：混部调度、成本治理、运维
- 互联网中间件：
- 云原生网关 Higress：
  - ingress / gateway API 标准
  - 流量网关、微服务网关、安全网关
- MSE 微服务引擎
- ACOS：云原生可观测
- RockerMQ：消息服务 -> 云原生事件流平台
- CNStack：云原生 PaaS
- serverless GPU

## 全球云原生技术趋势洞察

- 云原生：应用轻量高效智能
- 集中式开发 -> 组装式开发
- 数据供给：资源管理 -> 价值挖掘
- 细粒度情况下的可观测性

## 容器服务助力企业精益用云

- forrester：公共云容器平台
- Omdia：容器开发者

阿里容器平台新算力：

- 云原生算力支持：倚天芯片、eRDMA（高性能容器网络）
- 容器网络文件系统：CNFS
  - NAS 访问并行化、文件生命周期管理
- 机密容器：不同容器之间的安全隔离问题

新平台：

- 容器混部技术：容器任务调度器
  - 面向服务质量的调度抽象（延迟敏感、可抢占）
  - QoS metric 感知的再调度
  - 减少低有限度对高优先度的干扰
- 容器 AIOps：故障预防恢复
- 分布式云容器平台管理：多地域、弹性部署
- ACK@Edge：网络增强、无需自建专线

新架构：ASM 企业服务网格

新工具：

- 云原生 Landing Zone
- FinOps 数字化成本治理
- 安全可信应用链

## 识货基于容器服务ACK 的云原生降本增效之路

识货 App：电商导购平台，虎扑社区频道

- 在线业务多为无状态服务，存在明显的波峰波谷
  - 容器化改造，提高平台可用率
- 业务体系：延时敏感业务、批处理业务、实时业务

解决方案：

- 混部和超卖：在线业务和离线业务的混部、服务器资源的超卖提高利用率
  - 主要问题：集群管理、批处理、无法达到业务需求
- serverless 使用 ECI（云容器） 承载，处理凸刺（ECS 处理日常服务）
- 业务智能预测弹性：提前扩展 Pod（CPU 利用率、Pod 数量）
- 服务治理：面向不同服务的监控 trace，应用透视

## 云原生技术在小红书的演进和发展

2 亿月活，百万发布

- 百万 CPU，上万服务，30 万实例
- 离线训练容器化部署

面临问题：容器化程度高，云原生程度低（资源调度能力不足）

容器架构：统一的资源入口、服务管理、资源管理

- CPU 精细化调度
- 混部和超卖：资源画像、超卖控制器
- 混部质量保证：koordinator
- 多级调度：策略调度、集群调度、节点调度

## 云原生可观测套件构建无处不在的可观测能力

ACOS：可观测在运维、产品、研发

- 主要困难：数据与工具割裂、可观测成本难以确定、价值回报难以预估
- Prometheus 服务、Grafana 服务、OpenTelemetry 服务（链路监控服务）

Prometheues 服务：

- CNCF：84% 的 Prometheues 服务 -> 监控企业中的其他技术栈
  - 企业云监控服务

Grafana 服务：观测界面的事实标准

- 阿里云的 Grafana 云托管服务

其他服务：

- 实时监控服务 ARMS：云上服务天生可观测 -> eBPF
- 日志服务 SLS：存储分层

## 传音可观测系统构建实践

传音：非洲手机之王

观测指标：

- 资源观测层：节点资源观测
- 容器层观测：工作负载、控制面、事件
- 云服务层观测：云服务中间件
- 应用层观测

其他系统：告警系统、全链路跟踪诊断服务
